<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <title>Stubble</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

		<!-- Externals -->

		<link type="text/css" href="http://www.asbjornenge.com/cdn/css/projectPage.css"rel="stylesheet">
		<link type="text/css" href="http://www.asbjornenge.com/cdn/google-code-prettify/prettify.css"rel="stylesheet">
		<link type="text/css" href="http://fonts.googleapis.com/css?family=Fanwood+Text:400,400italic|Reenie+Beanie|Lobster+Two:400,700italic" rel="stylesheet">
        <script type="text/javascript" src="http://www.asbjornenge.com/cdn/jquery.min.js"></script>
		<script type="text/javascript" src="http://www.asbjornenge.com/cdn/google-code-prettify/prettify.js"></script>
		<script type="text/javascript" src="http://www.asbjornenge.com/cdn/ga.js"></script>
		<script type="text/javascript" src="http://d3js.org/d3.v2.min.js?2.8.1"></script>

		<!-- Page specific -->
		
        <link type="text/css" href="css/stubble.css" rel="stylesheet">
		<script type="text/javascript" src="js/stubble.js"></script>

    <style type="text/css">



    </style>

    </head>

    <body>
		<a href="https://github.com/asbjornenge/stubble">
			<img style="position: absolute; top: 0; right: 0; border: 0;" 
			     src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" 
			     alt="Fork me on GitHub">
		</a>

    <div id="body">
      <div id="chart"></div>
    </div>
    <script type="text/javascript">

		var w = 800,
		    h = 400,
		    color = d3.scale.category10();

		var force = d3.layout.force()
		    .gravity(0)
		    .charge(-5)
		    .linkStrength(0)
		    .size([w, h]);

		var links = force.links(),
		    nodes = force.nodes(),
		    centers = [
		      {type: 0, x: 3 * w / 6, y: 2 * h / 6, fixed: true},
		      {type: 1, x: 4 * w / 6, y: 4 * h / 6, fixed: true}
		    ];

		var svg = d3.select("#chart").append("svg:svg")
		    .attr("width", w)
		    .attr("height", h);

		svg.append("svg:rect")
		    .attr("width", w)
		    .attr("height", h);

		svg.selectAll("circle")
		    .data(centers)
		  .enter().append("svg:circle")
		    .attr("r", 12)
		    .attr("cx", function(d) { return d.x; })
		    .attr("cy", function(d) { return d.y; })
		    .style("fill", fill)
		    .call(force.drag);

		force.on("tick", function(e) {
		  var k = e.alpha * .1;
		  nodes.forEach(function(node) {
		    var center = centers[node.type];
		    node.x += (center.x - node.x) * k;
		    node.y += (center.y - node.y) * k;
		  });

		  svg.selectAll("circle")
		      .attr("cx", function(d) { return d.x; })
		      .attr("cy", function(d) { return d.y; });

		  svg.selectAll("line")
		      .attr("x1", function(d) { return d.source.x; })
		      .attr("y1", function(d) { return d.source.y; })
		      .attr("x2", function(d) { return d.target.x; })
		      .attr("y2", function(d) { return d.target.y; });
		});

		var p0;

		svg.on("mousemove", function() {
		  var p1 = d3.svg.mouse(this),
		      a = {type: 0, x: p1[0], y: p1[1], px: (p0 || (p0 = p1))[0], py: p0[1]},
		      b = {type: 1, x: centers[1].x, y: centers[1].y, fixed:true},
		      link = {source: a, target: b};

		  p0 = p1;

		  svg.selectAll()
		      .data([a, b])
		    .enter().append("svg:circle")
		      .attr("cx", function(d) { return d.x; })
		      .attr("cy", function(d) { return d.y; })
		      .attr("r", 4.5)
		      .style("fill", fill)
		    .transition()
		      .delay(3000)
		      .attr("r", 1e-6)
		      .remove();

		  svg.insert("svg:line", "circle")
		      .data([link])
		    .transition()
		      .delay(3000)
		      .each("end", function() {
		        nodes.splice(nodes.indexOf(a), 1);
		        nodes.splice(nodes.indexOf(b), 1);
		        links.splice(links.indexOf(link), 1);
		      })
		      .remove();

		  nodes.push(a, b);
		  links.push(link);
		  force.start();
		});

		function fill(d) {
		  return color(d.type);
		}

    </script>

        <div id="wrapper">
			<div class="title">
				<h1>Stubble</h1>
				<h3>Tiny, hairy templates</h3>
			</div>
			<div class="content">
				<h1>Stubble</h1>

<p><strong>NB! Stubble is not ready for consumption just yet.</strong></p>

<p><em>Tiny hairy templates, with potential.</em></p>

<p>Stubble is a <strong><em>552 byte</em></strong> (gzipped) template system. It has a few areas of focus:</p>

<ul>
<li>Staying tiny</li>
<li>Keep the markup clean &amp; separate from logic</li>
<li>Easily expandable (using filters)</li>
</ul>

<p>It is far from a slick <a href="http://handlebarsjs.com/">handlebar mustache</a>, but you can easily grow it however you want.</p>

<h2>Basics</h2>

<h3>Defining templates</h3>

<p>Put the data stub&#39;s somewhere in your dom.</p>

<pre><code>&lt;div data-stub=&quot;login&quot;&gt;
    &lt;span&gt;Welcome {{user}}!&lt;/span&gt;
&lt;/div&gt;
</code></pre>

<h3>Rendering templates</h3>

<p>Calling stub.load() will collect all your stubs and remove them from the dom.</p>

<pre><code>stub.load()
var login = stub(&#39;login&#39;,{&#39;user&#39;:&#39;Bob&#39;})
==&gt;
&lt;div&gt;
    &lt;span&gt;Welcome Bob!&lt;/span&gt;
&lt;/div&gt;
</code></pre>

<h2>Filters</h2>

<p>…more on this later…</p>

<h3>Validation</h3>

<h3>Databind</h3>

<h3>Two-way databind</h3>

<h3>Other useful examples</h3>

<ul>
<li>Update sibling?</li>
<li>Loops?</li>
</ul>

<h2>Install</h2>

<p>…bower support coming soon… don&#39;t use it for now :-P</p>

<h2>Use</h2>

<pre><code>&lt;script src=&quot;components/stubble/stubble.min.js&quot;&gt;&lt;/script&gt;
</code></pre>

<h2>TODO</h2>

<ul>
<li>Write more tests</li>
<li>Finish documentation</li>
<li>Support loading templates async?

<ul>
<li>stubble.load(&#39;path/to/file.html&#39;)</li>
<li>stubble.load(&#39;path/to/folder&#39;)</li>
<li>?? jade syntax ??
enojy.</li>
</ul></li>
</ul>

			</div>
        </div>
    </body>
</html>
